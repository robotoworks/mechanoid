/*
 * Generated by Robotoworks Mechanoid
 */
package com.robotoworks.example.ghissues.ops;

import java.util.List;

import com.robotoworks.example.ghissues.net.GetIssuesForRepositoryRequest;
import com.robotoworks.example.ghissues.net.GetIssuesForRepositoryResult;
import com.robotoworks.example.ghissues.net.GithubClient;
import com.robotoworks.example.ghissues.net.Issue;
import com.robotoworks.example.ghissues.ops.AbstractGetIssuesForRepositoryOperation;
import com.robotoworks.mechanoid.net.Response;
import com.robotoworks.mechanoid.net.ServiceException;
import com.robotoworks.mechanoid.ops.OperationResult;

public class GetIssuesForRepositoryOperation extends
		AbstractGetIssuesForRepositoryOperation {
	@Override
	protected OperationResult onExecute(Args args) {

		GithubClient client = new GithubClient();

		GetIssuesForRepositoryRequest request = new GetIssuesForRepositoryRequest(
				"robotworks", "mechanoid");

		Response<GetIssuesForRepositoryResult> response;
		try {
			response = client.getIssuesForRepository(request);
			
			response.checkResponseCodeOk();
			
			GetIssuesForRepositoryResult result = response.parse();
			
			List<Issue> issues = result.getIssues();
			
		} catch (ServiceException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}


		return null;
	}
}
