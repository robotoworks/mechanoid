/*
 * Generated by Robotoworks Mechanoid
 */
package com.robotoworks.example.movies.ops;

import com.robotoworks.mechanoid.ops.OperationServiceBridge;
import com.robotoworks.example.movies.ops.MoviesService;
import android.content.Intent;
import com.robotoworks.mechanoid.Mechanoid;			

public abstract class AbstractMoviesServiceBridge extends OperationServiceBridge {
	private static final Class<?> SERVICE_CLASS = MoviesService.class;

	public AbstractMoviesServiceBridge(boolean enableLogging){
		super(enableLogging);
	}
				
	protected Class<?> getServiceClass() {
		return SERVICE_CLASS;
	}

	
	public int executeGetMoviesOperation() {
		Intent intent = AbstractGetMoviesOperation.createGetMoviesIntent();
		
		Intent existingRequest = findPendingRequestByActionWithExtras(AbstractGetMoviesOperation.ACTION_GET_MOVIES, intent.getExtras());
		
		if(existingRequest != null) {
			return extractRequestId(existingRequest);
		}
		
		int requestId = createServiceRequest(intent);
		
		Mechanoid.startService(intent);
		
		return requestId;
	}
	public int executeAddMovieOperation(String title, String description, int year) {
		Intent intent = AbstractAddMovieOperation.createAddMovieIntent(title, description, year);
		
		Intent existingRequest = findPendingRequestByActionWithExtras(AbstractAddMovieOperation.ACTION_ADD_MOVIE, intent.getExtras());
		
		if(existingRequest != null) {
			return extractRequestId(existingRequest);
		}
		
		int requestId = createServiceRequest(intent);
		
		Mechanoid.startService(intent);
		
		return requestId;
	}
}
